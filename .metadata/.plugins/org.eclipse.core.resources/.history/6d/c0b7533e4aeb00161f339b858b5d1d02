import java.util.*;

public class StringPalindroms {
	
	static boolean isPalindrome(String s){
		int j = s.length()-1;
		char[] chars = s.toCharArray();
		for(int i=0; i<s.length()/2; i++){
			if(chars[i]!=chars[j])
				return false;
			j--;
		}
		
		return true;
	}
	
	static int allPalindromes(String[] words){
		int count =0;
		Set<String> set = new HashSet<String>();
		
		for(int i=0; i<words.length; i++){
			String curr = words[i];
			StringBuilder reversed = new StringBuilder(curr).reverse();
			if(set.contains(reversed.toString()))
				count++;
			set.add(curr);
			///seperate function
			for(int j=0; j< curr.length(); j++){
				String left = curr.substring(0, j);
				String right = curr.substring(j);
				if(isPalindrome(left))
					set.add(right);
				else if(isPalindrome(right))
					set.add(right);
			}
		}
		return count;
	}
	
	static int findPalindromes(String[] words){
		int count =0;
		Set<String> set = new HashSet<String>();
		
		for(int i=0; i<words.length; i++){
			String curr = words[i];
			StringBuilder reversed = new StringBuilder(curr).reverse();
			if(set.contains(reversed.toString()))
				count++;
			set.add(curr);
		}
		return count;
	}
	
	
	
	public static void main(String[] args){
		String[] words = {"abc", "cat", "cd", "tac", "car", "rac", "mk", "cba", "cba"}; //2possible palindromes
		System.out.println(findPalindromes(words));
		String[] otherWords = {"abc", "cb", "cat", "ta"};
		System.out.println(allPalindromes(otherWords));
	}

}
